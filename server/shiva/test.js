
let allData = [
    {
        "_id": "61f7c28a1761182a24351874",
        "serviceTicketNo": "SO1",
        "serviceId": {
            "_id": "61f7ba0f62c318ca8626d885",
            "serviceCategory": [
                "61e799b46eefc3f2b54e783a",
                "61f29cca41422ee13a084ed6"
            ],
            "serviceModel": "serviceMaster",
            "imageUpload": "serviceMaster 11",
            "serviceName": "string",
            "description": "string",
            "customerServiceFee": 10,
            "fullPaymentDiscount": 10,
            "businessPartnerFee": 10,
            "showOnHomePage": true,
            "status": true,
            "tdsApplicable": "string",
            "GSTapplicableInter": "61f29cca41422ee13a084ed6",
            "GSTapplicableIntra": "61f29cca41422ee13a084ed6",
            "GSTapplicableInterut": "61f29cca41422ee13a084ed6",
            "relatedServices": [],
            "milestones": [
                {
                    "milestone": "61f7b41b62c318ca8626d868",
                    "period": "once",
                    "groupHead": "string 44",
                    "paymentMilestoneStatus": true,
                    "milestoneFees": 4444,
                    "paymentPercentage": 44,
                    "amount": 44,
                    "_id": "61f7bfab62c318ca8626d8c4"
                },
                {
                    "milestone": "61f7b3b962c318ca8626d862",
                    "period": "Quarterly",
                    "groupHead": "string 22",
                    "paymentMilestoneStatus": true,
                    "milestoneFees": 2222,
                    "paymentPercentage": 22,
                    "amount": 22,
                    "_id": "61f7bfab62c318ca8626d8c5"
                },
                {
                    "milestone": "61f7b40662c318ca8626d866",
                    "period": "monthly",
                    "groupHead": "string 55",
                    "paymentMilestoneStatus": true,
                    "milestoneFees": 555,
                    "paymentPercentage": 55,
                    "amount": 55,
                    "_id": "61f7bfab62c318ca8626d8c6"
                }
            ],
            "documents": [
                {
                    "document": "id",
                    "mandatory": true,
                    "showOnHomePage": true,
                    "_id": "61f7bb1362c318ca8626d898"
                }
            ],
            "template": [],
            "__v": 0
        },
        "briedDiscussion": "string",
        "financialYearId": {
            "_id": "61f7b29a62c318ca8626d857",
            "option": "financial year",
            "label": "2021-2022",
            "value": "2021",
            "enabled": true,
            "default": false,
            "__v": 0
        },
        "customerId": {
            "_id": "61f7b94262c318ca8626d882",
            "customerId": "61f7b93362c318ca8626d880",
            "emailId": "CustomerMgmt",
            "companyName": "string CustomerMgmt",
            "address1": "string 1",
            "address2": "string 1",
            "country": "string 1",
            "state": "string 1",
            "city": "string",
            "approvalStatus": true,
            "profileType": "string",
            "signInAuthority": "string",
            "mobile": 10,
            "pinCode": 10,
            "uploadPhoto": "string",
            "documents": [],
            "__v": 0
        },
        "typeNew": true,
        "typeApproved": false,
        "typeReject": false,
        "documents": [
            {
                "documentName": "string",
                "path": "string",
                "_id": "61f7c28a1761182a24351875"
            }
        ],
        "milestone": [
            {
                "milestone": "61f7b41b62c318ca8626d868",
                "period": "once",
                "groupHead": "string 44",
                "paymentMilestoneStatus": true,
                "milestoneFees": 4444,
                "paymentPercentage": 44,
                "amount": 44,
                "_id": "61f7bfab62c318ca8626d8c4"
            },
            {
                "milestone": "61f7b3b962c318ca8626d862",
                "period": "Quarterly",
                "groupHead": "string 22",
                "paymentMilestoneStatus": true,
                "milestoneFees": 2222,
                "paymentPercentage": 22,
                "amount": 22,
                "_id": "61f7bfab62c318ca8626d8c5"
            },
            {
                "milestone": "61f7b40662c318ca8626d866",
                "period": "monthly",
                "groupHead": "string 55",
                "paymentMilestoneStatus": true,
                "milestoneFees": 555,
                "paymentPercentage": 55,
                "amount": 55,
                "_id": "61f7bfab62c318ca8626d8c6"
            }
        ],
        "serviceAmount": 10,
        "paymentAmount": 10,
        "isCustomized": false,
        "serviceStatus": true,
        "ticketDate": "31-1-2022",
        "allMinestoneList": [],
        "__v": 0,
        "template": []
    },
    {
        "_id": "61f7c4801761182a24351879",
        "serviceTicketNo": "SO2",
        "serviceId": {
            "_id": "61f7ba2e62c318ca8626d887",
            "serviceCategory": [
                "61f29ced41422ee13a084ed8",
                "61f29cca41422ee13a084ed6"
            ],
            "serviceModel": "serviceMaster 22",
            "imageUpload": "serviceMaster 22",
            "serviceName": "22",
            "description": "22",
            "customerServiceFee": 10,
            "fullPaymentDiscount": 10,
            "businessPartnerFee": 10,
            "showOnHomePage": true,
            "status": true,
            "tdsApplicable": "22",
            "GSTapplicableInter": "61f29cca41422ee13a084ed6",
            "GSTapplicableIntra": "61f29cca41422ee13a084ed6",
            "GSTapplicableInterut": "61f29cca41422ee13a084ed6",
            "relatedServices": [],
            "milestones": [],
            "documents": [],
            "template": [],
            "__v": 0
        },
        "briedDiscussion": "string",
        "financialYearId": {
            "_id": "61f7b2c062c318ca8626d85b",
            "option": "financial year",
            "label": "2022-2023",
            "value": "2021",
            "enabled": true,
            "default": false,
            "__v": 0
        },
        "customerId": {
            "_id": "61f7b94262c318ca8626d882",
            "customerId": "61f7b93362c318ca8626d880",
            "emailId": "CustomerMgmt",
            "companyName": "string CustomerMgmt",
            "address1": "string 1",
            "address2": "string 1",
            "country": "string 1",
            "state": "string 1",
            "city": "string",
            "approvalStatus": true,
            "profileType": "string",
            "signInAuthority": "string",
            "mobile": 10,
            "pinCode": 10,
            "uploadPhoto": "string",
            "documents": [],
            "__v": 0
        },
        "typeNew": true,
        "typeApproved": false,
        "typeReject": false,
        "documents": [
            {
                "documentName": "string",
                "path": "string",
                "_id": "61f7c4801761182a2435187a"
            }
        ],
        "milestone": [],
        "serviceAmount": 122,
        "paymentAmount": 22,
        "isCustomized": false,
        "serviceStatus": true,
        "ticketDate": "31-1-2022",
        "allMinestoneList": [],
        "__v": 0,
        "template": []
    }
]



const genrateMilestone = (time) => {
    console.log("time", time);
}

let serviceId = "61f7ba0f62c318ca8626d885";

allData.map((item) => {
    if (item._id === serviceId) {

        let oneMilestone = item.serviceId.milestones;
        let financialYear = item.financialYearId;
        console.log('financialYear:', financialYear)
        oneMilestone.map((oneItem) => {
            if (oneItem.period === "once") {
                return genrateMilestone(1);
            } else if (oneItem.period === "Quarterly") {
                return genrateMilestone(3);
            } else if (oneItem.period === "monthly") {
                return genrateMilestone(12);
            } else if (oneItem.period === "yearly") {
                return genrateMilestone(1);
            }
        })

    }
})







{
            serviceTicketNo: serviceTicketNo(),
            serviceMasterId: req.body.,
            briefDiscussion: req.body.,
            financialYearId: req.body.,
            customerId: req.body.,
            typeNew: req.body.,
            typeApproved: req.body.,
            typeReject: req.body.,
            documents: [{
                documentName: req.body.,
                path: req.body.,
            }],
            allMilestoneData: [],
            serviceAmount: req.body.,
            paymentAmount: req.body.,
            isCustomized: req.body.,
            assignedTo: req.body.,
            assignedToComments: req.body.,
            serviceStatus: req.body.,
            ticketDate: dateFormate(),
        }











var currentDate = new Date();

//get the interval val
var count = 1;


//if count is Days

if (count == 1) {
    currentDate.setDate(currentDate.getDate() + count);
}
//if count is Weeks
if (count == 2) {
    currentDate.setDate(currentDate.getDate() + count * 7);
}
//if count is Month
if (count == 3) {
    currentDate.setMonth(currentDate.getMonth() + count);
}
//if count is Year
if (count == 4) {
    currentDate.setYear(currentDate.getYear() + count);
}
